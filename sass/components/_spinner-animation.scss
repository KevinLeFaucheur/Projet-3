$color-primary: #9356DC;
$color-secondary: #FF79DA;
$color-tertiary: #99E2D0;
$shapes: 8;
$anim-delay: 375ms;
$inners: 3;
$border-size: 8px;

.spinner {
    position:fixed;
    padding:0;
    margin:0;
    top:0;
    left:0;
    width: 100%;
    height: 100%;
    background:rgba(255, 255, 255, .8);
    z-index: 10;
    animation: loaded 0s linear 3000ms 1 forwards;
}

.holder {
    z-index: 10;
    display: inline-block;
    width: 80px;
    height: 80px;
    position: absolute;
    left: calc(50% - 40px);
    top: calc(50% - 40px);

    &__inner {
        @for $i from 1 through $inners {
            &--#{$i} {
            position: absolute;
            box-sizing: border-box;
            left: calc(50% - 40px);
            top: calc(50% - 40px);
            width: calc(80px - (#{$i} - 1) * 20px);
            height: calc(80px - (#{$i} - 1) * 20px);
            border: $border-size solid $color-primary;
            margin: calc(((#{$i}) - 1) * 10px);
            border-radius: 50%;
            animation: spinner2 3000ms linear infinite both;
            animation-delay: calc(-1s + #{$i} * 100ms);
            }
        }
    }
}

.shape {
    transition: width .5s, height .5s;
    animation: spinner 6000ms linear infinite;
    transform-origin: 40px 40px;
}

.shape:after {
    content: " ";
    display: block;
    position: absolute;
    width: 15px;
    height: 15px;
    border-radius: 50%;
    margin: -4px 0 0 -4px;
}

@for $i from 1 through $shapes {
    .shape {
        &:nth-child(#{$i}) {
            animation-delay: ($anim-delay * $i * -1);
            opacity: 1 - ((1/$i)/2);
            //   &:hover {
            //     // animation-play-state: paused;
            //     // trnasition: perspective(200px) translateX(0px);
            //   }
        }

        &:nth-child(3n) {
            &:after {
            // background: linear-gradient(0deg, $color-primary 0%-$i*10, $color-secondary 50%-$i*10, $color-tertiary 100%-$i*10);
            background: $color-primary;
            }
        }  

        &:nth-child(3n+1) {
            &:after {
            // background: linear-gradient(0deg, $color-primary 0%-$i*10, $color-secondary 50%-$i*10, $color-tertiary 100%-$i*10);
            background: $color-secondary;
            }
        }  

        &:nth-child(3n+2) {
            &:after {
            // background: linear-gradient(0deg, $color-primary 0%-$i*10, $color-secondary 50%-$i*10, $color-tertiary 100%-$i*10);
            background: $color-tertiary;
            }
        }  
    }
}

@keyframes spinner2 {
    0% {
        // opacity: 0.2;
        border: $border-size solid $color-primary;
    }

    25% {
        // opacity: 1;
        border: $border-size solid $color-secondary;
    }

    50% {
        // opacity: 0.2;
        border: $border-size solid $color-tertiary;
    }

    75% {
        // opacity: 1;
        border: $border-size solid $color-secondary;
    }

    100% {
        // opacity: 0.2;
        border: $border-size solid $color-primary;
    }
}

@keyframes spinner {
    0% {
        transform: rotate(0deg);
    }

    50% {
        transform: rotate(360deg);
    }

    100% {
        transform: rotate(720deg);
    }
}

@keyframes loaded {
    100% {
        left: 100%;
        overflow: hidden;
        visibility: hidden;
    }    
}